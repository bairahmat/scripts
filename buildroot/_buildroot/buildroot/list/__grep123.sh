echo "\$(asda\$(s\$(g)), \$(z))" | grep -o "\$([^()]\+)"

echo "\$(asda\$(s\$(g)), \$(z))" | sed 's/\(.*\)\(\$([^()]\+)\)\(.*\)/\1##\2##\3/g'

echo "\$(asda\$(s\$(g)), \$(z))" | sed 's/\(.*\)\(\$([^()]\+)\)\(.*\)/\1##\2##\3/g'

echo "\$(asda\$(s\$(g)), \$(z))" | sed 's/\(.*\$([^()]\+)\)/&#/g'

echo "\$(asda\$(s\$(g)), \$(z))" | sed -n 's/\(.*\)\(\$([^()]\+)\)\(.*\)/\1#\2#\3/gp'

echo "\$(asda\$(s\$(g)), \$(z))" | sed -n 's/\(.*\)\(\$([^()]\+)\)\(.*\)/\2/p'

echo "\$(asda\$(s\$(g)), \$(z)) \$(s) a \$(b)" | sed -n 's/\(\$([^()]\+)\)/\1#/p'

echo "\$(asda\$(s\$(g)), \$(z)) \$(s) a \$(b)" | sed -n 's/\(\$([^()]\+)\)/\1#/gp'

echo "\$(asda\$(s\$(g)), \$(z)) \$(s) a \$(b)" | sed -n 's/\(\$([^()]\+)\)/\1)/gp'

#echo "\$(asda\$(s\$(g)), \$(z)) \$(s) a \$(b)" | sed -n 's/\(\$([^()]\+)\)/\1)/gp'

echo "\$(asda\$(s\$(g)), \$(z)) \$(s) a \$(b)" | sed -n 's/\(\$([^()]\+)\)/#\1#/gp'

PATT='\(\$([^()]\+)\)'
C="\$(asda\$(s\$(g)), \$(z)) \$(s) a \$(b)"
A=$(echo "$C" | sed -n "s/$PATT/#\1#/gp")
#echo "$A" | sed -n 's/.*\(#\(.*\)#\)\+.*/\1-\2/gp'
#echo "$A" | sed -n 's/.*#\(.*\)#.*/\1/p'

echo "$A" | grep -o "#[^#]*#"
